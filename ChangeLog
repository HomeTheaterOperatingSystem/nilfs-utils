nilfs-utils-2.0.19  Mon Aug  9, 2010 JST

	* add uhelper option support.  This is required to control nilfs2
	  partitions from udisks/palimpsest.
	* enlarge maximum size of volume name to 80 bytes
	* update man pages; described new mount options (norecovery and
	  discard) and change on the default of errors= mount option.
	* import changes in nilfs2_fs.h upto kernel 2.6.35.
	* extend the range of application of autoconf

nilfs-utils-2.0.18  Sat Apr 10, 2010 JST

	* allow cleanerd to suspend GC based on the number of free
	  segments (thanks to David Arendt)
	* add mount option to disable garbage collection
	* add AUTHORS file
	* do cleanup for conf-file parser of cleanerd

nilfs-utils-2.0.17  Sat Mar 13, 2010 JST

	* add COPYING file to prevent insertion of the GPLv3 preamble by
	  newer automake.

nilfs-utils-2.0.16  Sat Mar 13, 2010 JST

	* add pseudo mount option "-o pp=<secconds>" which sets protection
	  period (thanks to David Smid)
	* fix build against newer glibc
	* update mount.nilfs2 manpage to reflect mount option changes

nilfs-utils-2.0.15  Thu Dec 31, 2009 JST

	* delete install-exec-hooks to do chown to root
	* delete install-exec-hook to run ldconfig in /lib
	* deleted struct nilfs_dat_group_desc
	* move definition of struct nilfs_btree_node
	* change support email address to linux-nilfs

nilfs-utils-2.0.14  Mon Jul 20, 2009 JST

	* fix privilege escalation vulnerability in mkfs.nilfs2
	* make the invocation of badblocks safer
	* fix failure of nilfs_open for devices aliased as a symlink
	* add -p option to cleanerd which overrides protection period
	* fix code checker warnings reported by Eric Sandeen
	* drop suid/sgid in proper order when invoking cleaner
	* drop other suid bits for safety
	* code cleanups

nilfs-utils-2.0.13  Mon Jun 22, 2009 JST

	* fix a bug of a nilfs library function leading to the cleanerd
	  failure on mount.  The bug typically arises when the mount
	  directory path ends with a slash symbol.  This was caused by a
	  lack of pathname canonicalization on the argument.
	* fix the problem that lssu didn't display segments properly
	  when the number of segments was specified with -n option.
	* enhance command line parser of rmcp so that it can handle range
	  of checkpoint numbers.
	* change rmcp to prompt user to use chcp when rmcp is tried
	  against snapshots.
	* add fallback mode to cleanerd which does retries in case of
	  memory shortage.  In the fallback mode, cleanerd does the
	  retries decreasing the number of cleaning segments.
	* add retry_interval directive to nilfs_cleanerd.conf which
	  specifies the retry interval in the fallback mode.
	* cleanup of cleanerd main loop

nilfs-utils-2.0.12  Thu Apr  2, 2009 JST

	* fix problem of libnilfs which didn't follow symbolic links for
	  devices.
	* fix incorrect behavior of mkfs.nilfs2 with -q option
	* fix command line buffer overflow error for mkfs -c
	* settle mess for bind mounts.
	* fix a bug in device check of mount.nilfs2 which confirm device is
	  acesssible or not.
	* rewrite lscp command to interleavingly call nilfs_get_cpinfo()
	  and list its result.
	* rewrite lssu command to interleavingly call nilfs_get_suinfo()
	  and list its result.
	* lscp and lssu supported options which specify the start index and
	  the number of items to be listed.
	* revise manpages of lscp and lssu.
	* dumpseg changed to print some details of segment header.
	* delete style comments for emacs editor.

nilfs-utils-2.0.11  Fri Mar 13, 2009 JST

	* force mount.nilfs2 to print a message to warn possible
	  on-disk format change.
	* follow minor changes on nilfs_fs.h which are for supporting
	  nanosecond timestamps.

nilfs-utils-2.0.10  Sat Mar  7, 2009 JST

	* enhance mkfs.nilfs2 to make secondary super block.
	* add support of the secondary super block to nilfs library.
	* add minor flag for checkpoints created by internal operations.
	  This allows userland application to identify whether each
	  checkpoint is created by file system change or internal operations
	  such as garbage collection or checkpoint mode change.
	  lscp now displays 'i' flag on those minor checkpoints.
	* clean up sketch file.

nilfs-utils-2.0.9  Wed Mar  4, 2009 JST

	* fix cleanerd bug causing removal of protected checkpoints.
	  This is the bugfix of the problem reported by Nori-san.
	* add comments to cleanerd functions.
	* mkfs add inode entries for reserved meta data files.  This would help
	  to remove future compatibility problems.
	* cleanups; remove unnecessary type casting of cleanerd and library,
	  remove trailing white spaces, and so on.

nilfs-utils-2.0.8  Thu Feb 19, 2009 JST

	* follow the change of ioctl API. Architecture dependent problems
	  related to the API was fixed.
	* cleanerd sleeps without timedwait ioctl which was abandoned along
	  with the API change.
	* cleanerd uses a sequence counter instead of volatile active
	  state of segments to checks whether a given segment is not
	  unreclaimable.
	
nilfs-utils-2.0.7  Wed Feb 11, 2009 JST

	* fix possible infinite loop in lscp.
	* fix incorrect termination detection of nilfs_psegment_for_each()
	* fix calculation of finfo offset that will break compatibility for
	  future extension of segment summary.
	* fix a wrong memmove size calculation in cleanerd.
	* avoid possible infinite loop of lssu and cleanerd that may occur
	  for inconsistent file systems.
	* insert some check code in cleanerd to verify consistency of the
	  number of snapshots.
	* mkfs.nilfs2 zeroes out the head and tail of device.
	* make sketch file deprecated.
	* add tag files gtags to .gitignore.
	* clean up nilfs_file_next and nilfs_binfo_total_size.
	* import recent updates of nilfs_fs.h.

nilfs-utils-2.0.6  Fri Oct 17, 2008 JST

	* fix the cleanerd bug that causes a kernel panic for more than
	  512 snapshots.
	* tighten checks before calling mount syscall.

nilfs-utils-2.0.5  Mon Jul 14, 2008 JST

	* add fake option (-f) to mount.nilfs2.
	* fix a problem related to the fake option support in which a gcpid
	  option remains in /etc/mtab even after ro-remount succeeded.
	* push forward check of /etc/mtab.

nilfs-utils-2.0.4  Fri Jun 20, 2008 JST

	* fix the segmentation fault problem of mount.nilfs2 that occurs
	  if it is invoked without passing through /sbin/mount.
	* allow ro/rw-mount options for mount.nilfs2.
	* apply the patch that renames a member prefix of struct nilfs_suinfo
	  in nilfs_fs.h, which was required to avoid a compile-time error
	  of the nilfs2 kernel module on IA64 machines.
	
nilfs-utils-2.0.3  Thu May 22, 2008 JST

	* fix the problem of 'make dist-bzip2' that it produces a tarball
	  without man pages.  This fixes it by using dist_man_MANS instead
	  of man_MANS.  This release is equivalent to the previous release
	  for the rest.

nilfs-utils-2.0.2  Tue May 20, 2008 JST

	* add man pages for nilfs2 and its utilities.
	* move declaration of nilfs_persistent_group_desc struct into the
	  nilfs_fs.h file.  This structure defines on-disk format of ifile
	  group descriptor, and should be declared in nilfs_fs.h.

nilfs-utils-2.0.1  Mon Mar 24, 2008 JST

	* import changes on nilfs_fs.h to prepare for future extensions.
	* import changes on nilfs_fs.h to avoid checkpatch.pl errors and
	  warnings.
	* fix gcc-4.2 warnings on 64-bit machines
	* remove expanded rcs keywords
	* add .gitignore

nilfs-utils-2.0.0  Mon Feb 18, 2008 JST

	* add a missing error handling of cleanerd.

nilfs-utils-2.0.0-testing-9  Wed Feb 13, 2008 JST

	* Fixed a hang problem that arose under a near disk full condition.
	* Fixed the problem that a NILFS partition mounted at boot time could
	  not be unmounted manually.  This problem came from the standard
	  behavior of most Linux distributions where the /var/run directory was
	  cleaned after a boot time mount process.  The clean-up job removed
	  the PID file of cleanerd and caused its shutdown failure.
	  The cleanerd and mount/umount programs were fairly changed for this
	  fix; now /etc/mtab is used instead to keep a PID of the cleanerd.

nilfs-utils-2.0.0-testing-8  Thu Dec 27, 2007 JST

nilfs-utils-2.0.0-testing-7  Thu Nov 29, 2007 JST
	
	* add cast for 64bit environment.
	* modify some error messages.
	
nilfs-utils-2.0.0-testing-6  Mon Oct 22, 2007 JST

	* Changed the message of "No such device" error printed by mount.nilfs2
	  to make it more understandable.

nilfs-utils-2.0.0-testing-5  Mon Oct 15, 2007 JST

nilfs-utils-2.0.0-testing-4  Thu Oct 11, 2007 JST

	* Add a new argument to nilfs_sync() API to allow utilities (e.g. mkcp)
	  to get the number of generated checkpoint atomically.
	* Fixed an installation error due to a lookup failure of ldconfig
	  that occurs on some distros.

nilfs-utils-2.0.0-testing-3  Tue Jul 24, 2007 JST

	* Allow regular files to be used with mkfs.nilfs2.
	  
	  The current implementation of mkfs.nilfs2 is limited to block devices
	  only, because of the use of the BLKGETSIZE64 ioctl(). That patches
	  allows mkfs.nilfs2 to format regular files, in addition to block
	  devices.
	  
	  Signed-off-by: Thomas Petazzoni <thomas.petazzoni@enix.org>

nilfs-utils-2.0.0-testing-2  Tue Jun 20, 2007 JST
	
	* Fixed a problem that the lscp and other userland tools might
	  fail on Ubuntu 6 if a samba mounted partition exists.

nilfs-utils-2.0.0-testing  Wed Jun 13, 2007 JST
	
	* The first release.
	* Implemented the Garbage Collector.
	* Rewrote almost all of the source code.
